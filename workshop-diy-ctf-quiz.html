<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>WKSHP-DIY // CTF CHALLENGE</title>
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;700;800&family=Syne:wght@700;800&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{--g:#00ff41;--c:#00d4ff;--r:#ff0033;--o:#ff8800;--y:#ffd700;--p:#bf00ff}
html,body{height:100%;overflow:hidden}
body{background:#050508;color:var(--g);font-family:'JetBrains Mono',monospace;font-size:12px}
.crt{position:fixed;inset:0;z-index:999;pointer-events:none}.crt::before{content:'';position:absolute;inset:0;background:repeating-linear-gradient(0deg,rgba(0,0,0,.03) 0,rgba(0,0,0,.03) 1px,transparent 1px,transparent 3px)}

.app{position:fixed;inset:0;display:flex;flex-direction:column;z-index:1}
.hud{padding:5px 10px;display:flex;justify-content:space-between;font-size:7px;color:rgba(0,255,65,.2);border-bottom:1px solid rgba(0,255,65,.04);flex-shrink:0}

/* SCREENS */
.scr{position:absolute;inset:0;display:none;flex-direction:column}.scr.on{display:flex}
.content{flex:1;display:flex;align-items:center;justify-content:center;overflow-y:auto;padding:20px}

/* ‚ïê‚ïê‚ïê START SCREEN ‚ïê‚ïê‚ïê */
.start{text-align:center}
.start-logo{font-family:'Syne',sans-serif;font-size:clamp(24px,5vw,42px);font-weight:800;color:var(--r);text-shadow:0 0 20px rgba(255,0,51,.2);margin-bottom:4px}
.start-sub{font-size:10px;color:var(--c);letter-spacing:3px;margin-bottom:20px}
.start-desc{font-size:10px;color:rgba(0,255,65,.3);max-width:420px;line-height:2;margin-bottom:16px}
.diff-btns{display:flex;gap:6px;justify-content:center;flex-wrap:wrap}
.diff-btn{background:none;border:1px solid rgba(0,255,65,.08);color:var(--g);font-family:inherit;font-size:10px;padding:10px 20px;border-radius:3px;cursor:pointer;transition:all .2s;text-align:center;min-width:100px}
.diff-btn:hover{border-color:var(--g);background:rgba(0,255,65,.04);box-shadow:0 0 10px rgba(0,255,65,.1)}
.diff-btn .dl{font-size:7px;color:rgba(0,255,65,.25);margin-top:2px}
.diff-btn.easy{border-color:rgba(0,255,65,.12)}.diff-btn.med{border-color:rgba(255,136,0,.12);color:var(--o)}.diff-btn.hard{border-color:rgba(255,0,51,.12);color:var(--r)}

/* ‚ïê‚ïê‚ïê GAME SCREEN ‚ïê‚ïê‚ïê */
.game-top{padding:8px 14px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid rgba(0,255,65,.04);flex-shrink:0}
.g-score{font-size:14px;font-weight:800;color:var(--y);text-shadow:0 0 8px rgba(255,215,0,.2)}
.g-q{font-size:8px;color:var(--c)}.g-timer{font-size:12px;font-weight:800;color:var(--g)}
.g-timer.low{color:var(--r);animation:timerBlink .5s step-end infinite}
@keyframes timerBlink{0%,50%{opacity:1}51%,100%{opacity:.3}}

.q-card{max-width:540px;width:100%;text-align:center}
.q-cat{font-size:7px;letter-spacing:3px;color:var(--p);margin-bottom:6px;display:inline-block;padding:2px 10px;border:1px solid rgba(191,0,255,.12);border-radius:2px}
.q-pts{font-size:7px;color:var(--y);margin-bottom:10px}
.q-text{font-size:clamp(13px,2.5vw,18px);color:var(--c);font-weight:700;line-height:1.8;margin-bottom:20px;text-shadow:0 0 8px rgba(0,212,255,.1)}
.q-hint{font-size:8px;color:rgba(0,255,65,.15);margin-bottom:16px;font-style:italic}

.opts{display:grid;grid-template-columns:1fr 1fr;gap:6px;max-width:460px;margin:0 auto}
.opt{background:none;border:1px solid rgba(0,255,65,.06);color:var(--g);font-family:inherit;font-size:10px;padding:12px 14px;border-radius:4px;cursor:pointer;transition:all .15s;text-align:left;line-height:1.6}
.opt:hover{border-color:var(--g);background:rgba(0,255,65,.03);box-shadow:0 0 8px rgba(0,255,65,.06)}
.opt.correct{border-color:var(--g)!important;background:rgba(0,255,65,.08)!important;color:var(--g)!important;box-shadow:0 0 12px rgba(0,255,65,.15)}
.opt.wrong{border-color:var(--r)!important;background:rgba(255,0,51,.06)!important;color:var(--r)!important}
.opt.disabled{pointer-events:none;opacity:.5}
.opt .pre{font-size:8px;color:rgba(0,255,65,.2);margin-right:4px}

.result-msg{margin-top:14px;font-size:12px;font-weight:700;opacity:0;transition:opacity .3s}
.result-msg.show{opacity:1}
.result-msg.correct{color:var(--g)}.result-msg.wrong{color:var(--r)}

/* ‚ïê‚ïê‚ïê RESULTS ‚ïê‚ïê‚ïê */
.results{text-align:center;max-width:400px}
.res-title{font-family:'Syne',sans-serif;font-size:28px;font-weight:800;margin-bottom:4px}
.res-sub{font-size:9px;color:rgba(0,255,65,.3);margin-bottom:16px;letter-spacing:2px}
.res-score{font-size:36px;font-weight:800;color:var(--y);text-shadow:0 0 20px rgba(255,215,0,.3);margin-bottom:4px}
.res-max{font-size:9px;color:rgba(0,255,65,.25);margin-bottom:16px}
.res-stats{display:flex;gap:12px;justify-content:center;margin-bottom:16px}
.res-stat{text-align:center;padding:8px 14px;border:1px solid rgba(0,255,65,.04);border-radius:3px}
.res-stat .v{font-size:16px;font-weight:800}.res-stat .l{font-size:6px;color:rgba(0,255,65,.2);letter-spacing:1px;margin-top:1px}
.res-stat.good .v{color:var(--g)}.res-stat.bad .v{color:var(--r)}.res-stat.gold .v{color:var(--y)}
.rank-box{border:1px solid rgba(0,255,65,.06);border-radius:4px;padding:10px;margin-bottom:14px}
.rank-title{font-size:7px;color:var(--c);letter-spacing:2px;margin-bottom:4px}
.rank-name{font-size:18px;font-weight:800;color:var(--y);text-shadow:0 0 12px rgba(255,215,0,.2)}
.rank-desc{font-size:8px;color:rgba(0,255,65,.25);margin-top:2px}
.res-btn{background:none;border:1px solid var(--g);color:var(--g);font-family:inherit;font-size:10px;padding:8px 20px;border-radius:3px;cursor:pointer;transition:all .2s;letter-spacing:1px}
.res-btn:hover{background:var(--g);color:#000;box-shadow:0 0 12px rgba(0,255,65,.25)}
</style>
  <link rel="stylesheet" href="nav.css">
</head>
<body>
<div class="crt"></div>
<div class="app">
<div class="hud"><span>CTF_CHALLENGE.sys</span><span>WORKSHOP-DIY // CAPTURE THE FLAG</span></div>

<div class="scr on" id="scrStart">
  <div class="content"><div class="start">
    <div class="start-logo">CTF CHALLENGE</div>
    <div class="start-sub">WORKSHOP-DIY EDITION</div>
    <div class="start-desc">Test your knowledge of the Workshop-DIY ecosystem.<br>39 apps. 7 domains. How well do you know them?<br><span style="color:rgba(0,255,65,.15)">// no googling. honor system.</span></div>
    <div class="diff-btns">
      <button class="diff-btn easy" onclick="startGame('easy')">üü¢ EASY<div class="dl">10 questions ¬∑ 20s each</div></button>
      <button class="diff-btn med" onclick="startGame('med')">üü° MEDIUM<div class="dl">15 questions ¬∑ 15s each</div></button>
      <button class="diff-btn hard" onclick="startGame('hard')">üî¥ HARD<div class="dl">20 questions ¬∑ 10s each</div></button>
    </div>
  </div></div>
</div>

<div class="scr" id="scrGame">
  <div class="game-top">
    <div class="g-score" id="gScore">0</div>
    <div class="g-q" id="gQ">Q1/10</div>
    <div class="g-timer" id="gTimer">20</div>
  </div>
  <div class="content">
    <div class="q-card">
      <div class="q-cat" id="qCat">ROBOTICS</div>
      <div class="q-pts" id="qPts">+100 pts</div>
      <div class="q-text" id="qText">Loading...</div>
      <div class="q-hint" id="qHint"></div>
      <div class="opts" id="opts"></div>
      <div class="result-msg" id="resultMsg"></div>
    </div>
  </div>
</div>

<div class="scr" id="scrResults">
  <div class="content"><div class="results" id="resultsBox"></div></div>
</div>

</div>

<script>
const QUESTIONS=[
  {q:"Which app lets you drive a robot from your browser via Bluetooth?",a:"bit-bot",o:["magic-hands","face-quest","talking-robot"],cat:"ROBOTICS",pts:100,diff:"easy"},
  {q:"What technology does magic-hands use for hand tracking?",a:"MediaPipe",o:["TensorFlow","OpenCV","WebGL"],cat:"AI",pts:100,diff:"easy"},
  {q:"Which app is a face-detection scoring game?",a:"face-quest",o:["face-tracking","bitmoji-lab","magic-hands"],cat:"AI",pts:100,diff:"easy"},
  {q:"How many apps are in the Workshop-DIY ecosystem?",a:"39",o:["25","42","33"],cat:"GENERAL",pts:50,diff:"easy"},
  {q:"What microcontroller powers the Workshop-DIY robot kit?",a:"ESP32",o:["Arduino Uno","Raspberry Pi","STM32"],cat:"HARDWARE",pts:100,diff:"easy"},
  {q:"Which app teaches Linux commands in a browser sandbox?",a:"linux-kids-lab",o:["tty","docker-lab","pentest-lab"],cat:"LINUX",pts:100,diff:"easy"},
  {q:"What protocol does bit-bot use to communicate with the robot?",a:"Bluetooth Low Energy (BLE)",o:["WiFi","USB Serial","MQTT"],cat:"ROBOTICS",pts:150,diff:"med"},
  {q:"Which app lets you train AI gestures and send results to micro:bit?",a:"teachable-machine",o:["face-quest","magic-hands","prompt-hero"],cat:"AI",pts:150,diff:"med"},
  {q:"What does WLED control in wled-kids-lab?",a:"Neopixel/WS2812 LED strips",o:["LCD screens","Servo motors","Speakers"],cat:"HARDWARE",pts:150,diff:"med"},
  {q:"Which app is a PeerJS-powered cloud classroom?",a:"classroom",o:["mission-control","bit-playground","ops-catalog"],cat:"CLASSROOM",pts:100,diff:"easy"},
  {q:"How many UI themes does Workshop-DIY offer?",a:"12",o:["8","15","10"],cat:"GENERAL",pts:100,diff:"easy"},
  {q:"Which app simulates an industrial production chain?",a:"production-chain",o:["ops-catalog","circuit-lab","smart-home"],cat:"LEARNING",pts:150,diff:"med"},
  {q:"What does the OCPP app simulate?",a:"EV charging stations",o:["Network routing","3D printing","Robot movement"],cat:"TOOLS",pts:200,diff:"hard"},
  {q:"Which app lets you build custom Bluetooth remotes with drag-and-drop?",a:"rxy",o:["bit-playground","ble-logger","mission-control"],cat:"ROBOTICS",pts:150,diff:"med"},
  {q:"What is the ESP32-C3's CPU clock speed in the robot kit?",a:"240 MHz",o:["80 MHz","160 MHz","400 MHz"],cat:"HARDWARE",pts:200,diff:"hard"},
  {q:"Which app converts emojis to 5√ó5 LED pixel art?",a:"bitmoji-lab",o:["pixel-gateway","magic-hands","code-kids"],cat:"MICROBIT",pts:100,diff:"easy"},
  {q:"What peer-to-peer technology does mission-control use?",a:"WebRTC",o:["WebSocket","MQTT","HTTP Polling"],cat:"CLASSROOM",pts:200,diff:"hard"},
  {q:"Which app is a cybersecurity sandbox with hacking challenges?",a:"pentest-lab",o:["vpn-guide","crypto-vault","linux-kids-lab"],cat:"CYBER",pts:150,diff:"med"},
  {q:"What does TTY stand for in the tty app?",a:"Teletypewriter (serial terminal)",o:["Text Transfer Yield","Terminal Type Yesterday","Teach The Youth"],cat:"HARDWARE",pts:200,diff:"hard"},
  {q:"Which app teaches cryptography ‚Äî encrypt, hash, generate keys?",a:"crypto-vault",o:["crypto-academy","pentest-lab","vpn-guide"],cat:"CYBER",pts:150,diff:"med"},
  {q:"What visual programming tool does nodered-lab use?",a:"Node-RED",o:["Scratch","Blockly","MakeCode"],cat:"DEVOPS",pts:150,diff:"med"},
  {q:"Which Workshop-DIY app has 54 hands-on activities?",a:"54-activities (bit-54-activities)",o:["bit-playground","makecode","code-kids"],cat:"MICROBIT",pts:150,diff:"med"},
  {q:"What container technology does docker-lab teach?",a:"Docker",o:["Kubernetes","Podman","LXC"],cat:"DEVOPS",pts:100,diff:"easy"},
  {q:"Workshop-DIY is registered as what type of French organization?",a:"Association Loi 1901",o:["SARL","SAS","Auto-entrepreneur"],cat:"GENERAL",pts:200,diff:"hard"},
  {q:"Which app helps master AI prompting for LLMs?",a:"prompt-hero",o:["claude-toolkit","teachable-machine","code-kids"],cat:"AI",pts:150,diff:"med"},
  {q:"What does DHCP stand for in dhcp-lab?",a:"Dynamic Host Configuration Protocol",o:["Digital Host Control Platform","Data Handling Config Program","Direct Hardware Connection Port"],cat:"NETWORKING",pts:200,diff:"hard"},
  {q:"Which app provides a visual guide to VPNs?",a:"vpn-guide (rocket-shield-vpn)",o:["pentest-lab","ble-logger","ops-catalog"],cat:"CYBER",pts:100,diff:"easy"},
  {q:"pixel-gateway is primarily used for what?",a:"Retro pixel art creation and animation",o:["Photo editing","3D modeling","Video streaming"],cat:"TOOLS",pts:100,diff:"easy"},
  {q:"What protocol does ble-logger inspect?",a:"Bluetooth Low Energy characteristics",o:["HTTP headers","MQTT topics","WiFi channels"],cat:"MICROBIT",pts:150,diff:"med"},
  {q:"How many app categories does Workshop-DIY have?",a:"7",o:["5","9","12"],cat:"GENERAL",pts:100,diff:"easy"},
];

let gameState={diff:'easy',total:10,timePerQ:20,qIdx:0,score:0,correct:0,wrong:0,streak:0,bestStreak:0,timer:20,interval:null,questions:[]};

function shuffle(a){for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]]}return a}

function startGame(diff){
  const cfg={easy:{total:10,time:20},med:{total:15,time:15},hard:{total:20,time:10}};
  gameState={...gameState,...cfg[diff],diff,qIdx:0,score:0,correct:0,wrong:0,streak:0,bestStreak:0};
  // Filter & pick questions
  let pool=[...QUESTIONS];
  if(diff==='easy')pool=pool.filter(q=>q.diff==='easy'||q.diff==='med');
  if(diff==='hard')pool=shuffle(pool);
  else pool=shuffle(pool);
  gameState.questions=pool.slice(0,gameState.total);
  showScreen('scrGame');
  loadQuestion();
}

function loadQuestion(){
  if(gameState.qIdx>=gameState.questions.length){endGame();return}
  const q=gameState.questions[gameState.qIdx];
  document.getElementById('gQ').textContent=`Q${gameState.qIdx+1}/${gameState.questions.length}`;
  document.getElementById('gScore').textContent=gameState.score;
  document.getElementById('qCat').textContent=q.cat;
  document.getElementById('qPts').textContent=`+${q.pts} pts`;
  document.getElementById('qText').textContent=q.q;
  document.getElementById('qHint').textContent=q.diff==='hard'?'// this one is tricky':'';
  document.getElementById('resultMsg').className='result-msg';
  // Shuffle options
  const opts=shuffle([q.a,...q.o]);
  const optsEl=document.getElementById('opts');
  optsEl.innerHTML=opts.map((o,i)=>`<button class="opt" onclick="answer(this,'${o.replace(/'/g,"\\'")}')"><span class="pre">${String.fromCharCode(65+i)}.</span> ${o}</button>`).join('');
  // Timer
  gameState.timer=gameState.timePerQ;
  document.getElementById('gTimer').textContent=gameState.timer;
  document.getElementById('gTimer').className='g-timer';
  clearInterval(gameState.interval);
  gameState.interval=setInterval(()=>{
    gameState.timer--;
    document.getElementById('gTimer').textContent=gameState.timer;
    if(gameState.timer<=5)document.getElementById('gTimer').className='g-timer low';
    if(gameState.timer<=0){clearInterval(gameState.interval);timeOut()}
  },1000);
}

function answer(btn,ans){
  clearInterval(gameState.interval);
  const q=gameState.questions[gameState.qIdx];
  const correct=ans===q.a;
  const msg=document.getElementById('resultMsg');
  document.querySelectorAll('.opt').forEach(o=>{
    o.classList.add('disabled');
    if(o.textContent.includes(q.a))o.classList.add('correct');
  });
  if(correct){
    btn.classList.add('correct');
    const bonus=Math.floor(gameState.timer/gameState.timePerQ*50);
    gameState.score+=q.pts+bonus;
    gameState.correct++;
    gameState.streak++;
    gameState.bestStreak=Math.max(gameState.bestStreak,gameState.streak);
    msg.textContent=`‚úì CORRECT! +${q.pts+bonus} pts (${bonus} speed bonus)`;
    msg.className='result-msg show correct';
  }else{
    btn.classList.add('wrong');
    gameState.wrong++;
    gameState.streak=0;
    msg.textContent=`‚úó WRONG. Answer: ${q.a}`;
    msg.className='result-msg show wrong';
  }
  document.getElementById('gScore').textContent=gameState.score;
  setTimeout(()=>{gameState.qIdx++;loadQuestion()},1800);
}

function timeOut(){
  const q=gameState.questions[gameState.qIdx];
  gameState.wrong++;gameState.streak=0;
  document.querySelectorAll('.opt').forEach(o=>{o.classList.add('disabled');if(o.textContent.includes(q.a))o.classList.add('correct')});
  const msg=document.getElementById('resultMsg');
  msg.textContent=`‚è∞ TIME'S UP! Answer: ${q.a}`;
  msg.className='result-msg show wrong';
  setTimeout(()=>{gameState.qIdx++;loadQuestion()},1800);
}

function endGame(){
  clearInterval(gameState.interval);
  const pct=Math.round(gameState.correct/gameState.questions.length*100);
  const ranks=[
    {min:90,n:"üèÜ ELITE HACKER",d:"You basically built these apps."},
    {min:70,n:"‚≠ê CYBER WARRIOR",d:"Impressive knowledge. The association needs you."},
    {min:50,n:"üîß APPRENTICE MAKER",d:"Getting there. Keep exploring the apps!"},
    {min:25,n:"üå± ROOKIE",d:"Just getting started. Try all 39 apps!"},
    {min:0,n:"üîí LOCKED OUT",d:"Time to visit workshop-diy.org and study up."}
  ];
  const rank=ranks.find(r=>pct>=r.min);
  document.getElementById('resultsBox').innerHTML=`
    <div class="res-title" style="color:${pct>=70?'var(--g)':pct>=50?'var(--o)':'var(--r)'}">CHALLENGE COMPLETE</div>
    <div class="res-sub">DIFFICULTY: ${gameState.diff.toUpperCase()}</div>
    <div class="res-score">${gameState.score}</div>
    <div class="res-max">POINTS EARNED</div>
    <div class="res-stats">
      <div class="res-stat good"><div class="v">${gameState.correct}</div><div class="l">CORRECT</div></div>
      <div class="res-stat bad"><div class="v">${gameState.wrong}</div><div class="l">WRONG</div></div>
      <div class="res-stat gold"><div class="v">${pct}%</div><div class="l">ACCURACY</div></div>
      <div class="res-stat" style="color:var(--c)"><div class="v" style="color:var(--c)">${gameState.bestStreak}</div><div class="l">BEST STREAK</div></div>
    </div>
    <div class="rank-box">
      <div class="rank-title">YOUR RANK</div>
      <div class="rank-name">${rank.n}</div>
      <div class="rank-desc">${rank.d}</div>
    </div>
    <button class="res-btn" onclick="showScreen('scrStart')">‚ñ∏ PLAY AGAIN ‚óÇ</button>
  `;
  showScreen('scrResults');
}

function showScreen(id){
  document.querySelectorAll('.scr').forEach(s=>s.classList.remove('on'));
  document.getElementById(id).classList.add('on');
}
</script>
  <script src="nav.js"></script>
</body>
</html>
